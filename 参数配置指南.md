# ğŸ“Š BioLitKG å‚æ•°é…ç½®æŒ‡å—

## ğŸ¯ æ‰€æœ‰å¯æ§å‚æ•°

BioLitKGæ”¯æŒç²¾ç¡®æ§åˆ¶å„ç§å‚æ•°!

---

## 1. æ–‡çŒ®æœç´¢å‚æ•°

### åŸºæœ¬æœç´¢

```python
from literature import UnifiedLiteratureSearch

search = UnifiedLiteratureSearch()

papers = search.search(
    query="single cell RNA-seq review best practice",  # æœç´¢å…³é”®è¯
    max_results=100,                                     # æœ€å¤š100ç¯‡
)
```

### æœç´¢å…³é”®è¯ç­–ç•¥

```python
# ç­–ç•¥A: ä¼˜å…ˆç»¼è¿°å’Œæœ€ä½³å®è·µ
query = "single cell RNA-seq review best practice protocol"

# ç­–ç•¥B: ä¼˜å…ˆBenchmarkç ”ç©¶
query = "single cell RNA-seq benchmark comparison evaluation"

# ç­–ç•¥C: ä¼˜å…ˆé«˜å½±å“åŠ›æœŸåˆŠ
query = "single cell RNA-seq Nature Cell Science"

# ç­–ç•¥D: ç‰¹å®šå·¥å…·
query = "Seurat Scanpy single cell RNA-seq tutorial"
```

---

## 2. æ–‡çŒ®ç­›é€‰å‚æ•°

### å®Œæ•´ç­›é€‰é…ç½®

```python
from workflow import WorkflowAnalyzer

analyzer = WorkflowAnalyzer(
    # === åŸºæœ¬é…ç½® ===
    use_llm=True,                # å¯ç”¨AIåˆ†æ
    
    # === æ–‡çŒ®æ•°é‡ ===
    max_papers=100,              # æœ€å¤šåˆ†æ100ç¯‡
    
    # === å¼•ç”¨æ•°ç­›é€‰ ===
    min_citations=50,            # æœ€å°‘50æ¬¡å¼•ç”¨
    # æ³¨: é«˜å¼•ç”¨=é«˜å½±å“åŠ›=æ›´æƒå¨
    
    # === å¹´ä»½èŒƒå›´ ===
    year_from=2020,              # èµ·å§‹å¹´ä»½
    year_to=2024,                # ç»“æŸå¹´ä»½
    # æ³¨: å¤ªè€çš„æ–‡çŒ®å¯èƒ½æ–¹æ³•å·²è¿‡æ—¶
)

# ä½¿ç”¨
result = analyzer.analyze_workflow(papers)
```

---

## 3. æ‰‹åŠ¨é«˜çº§ç­›é€‰

### æŒ‰å½±å“å› å­ç­›é€‰

```python
# æ­¥éª¤1: æœç´¢æ–‡çŒ®
papers = search.search("single cell RNA-seq", max_results=200)

# æ­¥éª¤2: æŒ‰å¹´ä»½ç­›é€‰
papers = [p for p in papers if p.year and 2020 <= p.year <= 2024]

# æ­¥éª¤3: æŒ‰å¼•ç”¨æ•°ç­›é€‰(ä½œä¸ºå½±å“åŠ›æŒ‡æ ‡)
papers = [p for p in papers if p.citation_count >= 50]

# æ­¥éª¤4: æŒ‰å¼•ç”¨æ•°æ’åº(é«˜å¼•ç”¨ä¼˜å…ˆ)
papers = sorted(papers, key=lambda p: p.citation_count, reverse=True)

# æ­¥éª¤5: é™åˆ¶æ•°é‡
papers = papers[:100]

# æ­¥éª¤6: åˆ†æ
result = analyzer.analyze_workflow(papers)
```

### æŒ‰æœŸåˆŠç­›é€‰

```python
# é«˜å½±å“åŠ›æœŸåˆŠåˆ—è¡¨
high_impact_journals = [
    'Nature', 'Science', 'Cell',
    'Nature Biotechnology', 'Nature Methods',
    'Genome Biology', 'Nature Communications',
    'Nucleic Acids Research'
]

# æŒ‰æœŸåˆŠç­›é€‰
papers_high_impact = [
    p for p in papers 
    if any(journal.lower() in (p.journal or '').lower() 
           for journal in high_impact_journals)
]

print(f"é«˜å½±å“åŠ›æœŸåˆŠè®ºæ–‡: {len(papers_high_impact)} ç¯‡")
```

### æŒ‰æ–‡çŒ®ç±»å‹ç­›é€‰

```python
# ä¼˜å…ˆReviewå’ŒProtocol
review_keywords = ['review', 'protocol', 'tutorial', 'best practice', 'benchmark']

papers_reviews = [
    p for p in papers
    if any(keyword in p.title.lower() for keyword in review_keywords)
]

print(f"Review/Protocolç±»æ–‡çŒ®: {len(papers_reviews)} ç¯‡")
```

---

## 4. å®Œæ•´ç¤ºä¾‹è„šæœ¬

```python
import os
from workflow import WorkflowAnalyzer
from literature import UnifiedLiteratureSearch

# === é…ç½®å‚æ•° ===
CONFIG = {
    # æœç´¢é…ç½®
    'query': 'single cell RNA-seq review best practice',
    'max_search_results': 200,
    
    # ç­›é€‰æ¡ä»¶
    'min_citations': 50,        # å½±å“åŠ›æŒ‡æ ‡
    'year_from': 2020,
    'year_to': 2024,
    'prefer_reviews': True,      # ä¼˜å…ˆç»¼è¿°
    
    # åˆ†æé…ç½®
    'max_papers': 100,
    'use_llm': True,
    
    # è¾“å‡º
    'output_dir': 'outputs/my_analysis'
}

# === æœç´¢ ===
search = UnifiedLiteratureSearch()
papers = search.search(
    query=CONFIG['query'],
    max_results=CONFIG['max_search_results']
)

# === ç­›é€‰ ===
# 1. å¹´ä»½
papers = [p for p in papers 
          if p.year and CONFIG['year_from'] <= p.year <= CONFIG['year_to']]

# 2. å¼•ç”¨æ•°
papers = [p for p in papers 
          if p.citation_count >= CONFIG['min_citations']]

# 3. ä¼˜å…ˆReview (å¯é€‰)
if CONFIG['prefer_reviews']:
    review_keywords = ['review', 'protocol', 'benchmark', 'best practice']
    reviews = [p for p in papers 
               if any(kw in p.title.lower() for kw in review_keywords)]
    others = [p for p in papers if p not in reviews]
    papers = reviews + others  # Reviewæ’å‰é¢

# 4. æ’åºå’Œé™åˆ¶
papers = sorted(papers, key=lambda p: p.citation_count, reverse=True)
papers = papers[:CONFIG['max_papers']]

print(f"âœ“ æœ€ç»ˆé€‰æ‹© {len(papers)} ç¯‡é«˜è´¨é‡è®ºæ–‡")
print(f"  å¹³å‡å¼•ç”¨æ•°: {sum(p.citation_count for p in papers)/len(papers):.1f}")

# === åˆ†æ ===
analyzer = WorkflowAnalyzer(
    use_llm=CONFIG['use_llm'],
    max_papers=CONFIG['max_papers'],
    min_citations=CONFIG['min_citations'],
    year_from=CONFIG['year_from'],
    year_to=CONFIG['year_to']
)

result = analyzer.analyze_workflow(papers)

# === ç”ŸæˆæŠ¥å‘Š ===
from pathlib import Path
output_path = Path(CONFIG['output_dir'])
output_path.mkdir(parents=True, exist_ok=True)

analyzer.generate_workflow_report(result, str(output_path / "WORKFLOW_REPORT.md"))

print(f"âœ“ æŠ¥å‘Šå·²ä¿å­˜åˆ°: {output_path}")
```

---

## 5. å‚æ•°æ¨èå€¼

### å¿«é€Ÿæµ‹è¯•
```python
max_papers = 20
min_citations = 20
year_from = 2022
```

### æ ‡å‡†åˆ†æ
```python
max_papers = 50
min_citations = 50
year_from = 2020
```

### æ·±åº¦åˆ†æ
```python
max_papers = 100
min_citations = 100
year_from = 2018
```

### æœ€æ–°è¿›å±•
```python
max_papers = 30
min_citations = 0    # æ–°è®ºæ–‡å¼•ç”¨å°‘
year_from = 2023
year_to = 2024
```

---

## 6. å½±å“å› å­è¿‘ä¼¼æ–¹æ³•

ç”±äºAPIé™åˆ¶,æˆ‘ä»¬ç”¨**å¼•ç”¨æ•°**ä½œä¸ºå½±å“åŠ›æŒ‡æ ‡:

| å¼•ç”¨æ•°èŒƒå›´ | è¿‘ä¼¼å½±å“åŠ› |
|-----------|----------|
| >500 | æé«˜å½±å“ |
| >200 | é«˜å½±å“ |
| >100 | ä¸­é«˜å½±å“ |
| >50 | ä¸­ç­‰å½±å“ |
| >20 | ä¸€èˆ¬å½±å“ |

**ç¤ºä¾‹**:

```python
# åªè¦æé«˜å½±å“è®ºæ–‡
papers_ultra_high = [p for p in papers if p.citation_count > 500]

# åªè¦è¿‘3å¹´çš„é«˜å½±å“è®ºæ–‡
papers_recent_high = [
    p for p in papers 
    if p.year >= 2022 and p.citation_count > 100
]
```

---

## 7. å®é™…ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1: æœ€æƒå¨çš„scRNA-seqæµç¨‹

```python
# é«˜æ ‡å‡†ç­›é€‰
papers = search.search("single cell RNA-seq protocol review", max_results=300)
papers = [p for p in papers if p.citation_count >= 100 and p.year >= 2018]
papers = sorted(papers, key=lambda p: p.citation_count, reverse=True)[:50]

analyzer = WorkflowAnalyzer(use_llm=True, min_citations=100)
result = analyzer.analyze_workflow(papers)
```

### ç¤ºä¾‹2: æœ€æ–°æ–¹æ³•è¿›å±•

```python
# å…³æ³¨æœ€æ–°
papers = search.search("single cell RNA-seq 2024", max_results=100)
papers = [p for p in papers if p.year >= 2023]
papers = papers[:30]

analyzer = WorkflowAnalyzer(use_llm=True, year_from=2023)
result = analyzer.analyze_workflow(papers)
```

### ç¤ºä¾‹3: ç‰¹å®šå·¥å…·æ¯”è¾ƒ

```python
# Seurat vs Scanpy
papers = search.search("Seurat Scanpy comparison benchmark", max_results=50)
papers = [p for p in papers if p.citation_count >= 20]

analyzer = WorkflowAnalyzer(use_llm=True)
result = analyzer.analyze_workflow(papers)
```

---

## 8. å®Œæ•´å‚æ•°åˆ—è¡¨

### WorkflowAnalyzerå‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `use_llm` | bool | True | æ˜¯å¦ä½¿ç”¨AIç”Ÿæˆæœ€ä½³å®è·µ |
| `max_papers` | int | 100 | æœ€å¤šåˆ†æçš„è®ºæ–‡æ•° |
| `min_citations` | int | None | æœ€å°‘å¼•ç”¨æ•°é˜ˆå€¼ |
| `year_from` | int | None | èµ·å§‹å¹´ä»½ |
| `year_to` | int | None | ç»“æŸå¹´ä»½ |

### UnifiedLiteratureSearch.searchå‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `query` | str | - | æœç´¢å…³é”®è¯ |
| `max_results` | int | 100 | æœ€å¤šè¿”å›ç»“æœæ•° |

---

## 9. è¿è¡Œé«˜çº§ç¤ºä¾‹

```bash
# è¿è¡Œé«˜çº§å‚æ•°é…ç½®ç¤ºä¾‹
python examples/scrna_workflow_advanced.py

# æŸ¥çœ‹è¾“å‡º
ls outputs/scrna_advanced/
cat outputs/scrna_advanced/WORKFLOW_REPORT.md
cat outputs/scrna_advanced/PAPERS_LIST.md
```

---

## ğŸ’¡ æç¤º

1. **å¼•ç”¨æ•°æ˜¯æœ€å¥½çš„å½±å“åŠ›æŒ‡æ ‡** - æ¯”æœŸåˆŠIFæ›´å¯é 
2. **Reviewä¼˜å…ˆ** - è·å–å…¨é¢çš„æœ€ä½³å®è·µ
3. **Benchmarkä¼˜å…ˆ** - è·å–å·¥å…·å¯¹æ¯”
4. **å¹´ä»½è¦å¹³è¡¡** - å¤ªæ–°å¼•ç”¨å°‘,å¤ªè€å¯èƒ½è¿‡æ—¶
5. **å¤šæ¬¡å°è¯•** - è°ƒæ•´å‚æ•°æ‰¾åˆ°æœ€ä½³ç»„åˆ

---

**æŸ¥çœ‹ `examples/scrna_workflow_advanced.py` çš„å®Œæ•´ç¤ºä¾‹!** ğŸš€

